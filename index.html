<!doctype html>
<html>

<head>
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" />
	<link rel="stylesheet" href="themes/imperator.min.css" />
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="style.css">
	<title>Heating Cost Calculator</title>
</head>

<body>

<div data-role="page" id="pocetna" data-theme="a">
    <div data-role="header" data-position="fixed">
        <h3>ecodom</h3>
    </div>
    <div data-role="content">
   		<form action="#" method="post" id="kalkulator">
    <table data-role="table" id="movie-table" data-mode="reflow" class="ui-responsive">
	  <thead>
	    <tr>
		    <th scope="col">&nbsp;</th>
		    <th scope="col">m²</th>
		    <th scope="col">Heizzeit (Stunden)</th>
		    <th scope="col">Aussenwände</th>
	    </tr>
	  </thead>
	  <tbody>
	  <tr>
	    <th scope="row">Wohnzimmer</th>
	    <td><input type="number" name="m1" id="m1" min="1"></td>
	    <td><input type="number" name="h1" id="h1"></td>
	    <td><input type="number" name="z1" id="z1" min="0" max="4"></td>
      </tr>
	  <tr>
	    <th scope="row">Küche</th>
	    <td><input type="number" name="m2" id="m2" min="1"></td>
	    <td><input type="number" name="h2" id="h2"></td>
	    <td><input type="number" name="z2" id="z2" min="0" max="4"></td>
      </tr>
	  <tr>
	    <th scope="row">Schlafzimmer</th>
	    <td><input type="number" name="m3" id="m3" min="1"></td>
	    <td><input type="number" name="h3" id="h3"></td>
	    <td><input type="number" name="z3" id="z3" min="0" max="4"></td>
      </tr>
	  <tr>
	    <th scope="row">Raum 1</th>
	    <td><input type="number" name="m4" id="m4" min="1"></td>
	    <td><input type="number" name="h4" id="h4"></td>
	    <td><input type="number" name="z4" id="z4" min="0" max="4"></td>
      </tr>
	  <tr>
	    <th scope="row">Raum 2</th>
	    <td><input type="number" name="m5" id="m5" min="1"></td>
	    <td><input type="number" name="h5" id="h5"></td>
	    <td><input type="number" name="z5" id="z5" min="0" max="4"></td>
      </tr>
	  <tr>
	    <th scope="row">Raum 3</th>
	    <td><input type="number" name="m6" id="m6" min="1"></td>
	    <td><input type="number" name="h6" id="h6"></td>
	    <td><input type="number" name="z6" id="z6" min="0" max="4"></td>
      </tr>
	  <tr>
	    <th scope="row">Raum 4</th>
	    <td><input type="number" name="m7" id="m7" min="1"></td>
	    <td><input type="number" name="h7" id="h7"></td>
	    <td><input type="number" name="z7" id="z7" min="0" max="4"></td>
      </tr>
	  <tr>
	    <th scope="row">Badezimmer</th>
	    <td><input type="number" name="m8" id="m8" min="1"></td>
	    <td><input type="number" name="h8" id="h8"></td>
	    <td><input type="number" name="z8" id="z8" min="0" max="4"></td>
      </tr>
      </tbody>
  </table>
  	<hr/>
  	<label for='price'>Preis kW/ Std EUR</label> 
  	<input type="text" name="price" id="price" value='0.26527'>	           
	<p>
	  <input type="submit" name="kalkSubmit" id="kalkSubmit" value="Berechnen" data-theme="b">
	</p>	
	</form>        
    </div>
</div>

<div data-role="page" id='rezultat' data-add-back-btn="true" data-back-btn-text="zurück" data-theme="a">
	<div data-role="header"><h2>ecodom</h2></div>
	<div data-role="content">
		<p>Raumgröße gesamt: <span id='totalKvadrat'></span> m²</p>	   	
	    <hr/>
	    <h3>Gesamt Watt</h3>
	    <p>Gute Dämmung: <span id='good'></span></p>
	    <p>Durchschnittl. Dämmung: <span id='average'></span></p>
	    <p>Schlechte Dämmung: <span id='bad'></span></p>      
	    <hr/>
	 	<h3>Preis pro Tag</h3>
	    <p>Gute Dämmung: <span id='goodRez1'></span></p>
	    <p>Durchschnittl. Dämmung: <span id='avgRez1'></span></p>
	    <p>Schlechte Dämmung: <span id='badRez1'></span></p>
	    <hr/> 
	   	<h3>Heizkosten pro Monat</h3>
	   	<p>Gute Dämmung: <span id='goodRez2'></span></p>
	    <p>Durchschnittl. Dämmung: <span id='avgRez2'></span></p>
	    <p>Schlechte Dämmung: <span id='badRez2'></span></p>
	    <hr/>
      	<h3>Heizkosten 180 Tage</h3>
	    <p>Gute Dämmung: <span id='goodRez3'></span></p>
	    <p>Durchschnittl. Dämmung: <span id='avgRez3'></span></p>
	    <p>Schlechte Dämmung: <span id='badRez3'></span></p>
	    <a href="#ponuda" data-role="button" data-rel="dialog" data-transition="slideup" data-theme="b">ecodom Lösung</a>
	</div>	
</div>

<div data-role="page" class="dialog-actionsheet" id='ponuda' data-overlay-theme="c">	
	<div data-role="content" data-theme="b">
		<h3>contact ecodom</h3>
		<p>ecodom provides high quality IR panels of 600W, 300W and 200W</p>		
		<a href="http://www.eco-dom.de" data-role="button" data-rel="external" data-transition="slidedown" data-theme="b">Website</a>     
		<a href="tel: +4928618084524" data-role="button" data-transition="slidedown" data-theme="b">Anrufen</a>       
		<a href="sms: +4928618084524" data-role="button" data-transition="slidedown" data-theme="b">SMS Senden</a>      
		<a href="mailto: info@eco-dom.de" data-role="button" data-transition="slidedown" data-theme="b">E-mail</a>       
		 		  
		<a href="#rezultat" data-role="button" data-rel="back" data-theme="a">Back</a>    
	</div>
</div>
	
    <script>
	$("#kalkSubmit").click(function() {		
			var url = "http://www.eco-dom.de/kalkulator.php"; // the script where you handle the form input.
			//var url = "kalkulator.php";
			$.ajax({
				   type: "POST",
				   url: url,
				   data: $("form#kalkulator").serialize(), // serializes the form's elements.
    			   dataType: "json",		
				   success: function(data)
				   {					   					  
					   //show results to client
					   $('#totalKvadrat').html(data.kvadratura);
					   $('#good').html(data.dobro.sum);
					   $('#average').html(data.prosecno.sum);
					   $('#bad').html(data.lose.sum);
					   
					   $('#goodRez1').html(data.dobro.sum_trosak.toFixed(2));
					   $('#avgRez1').html(data.prosecno.sum_trosak.toFixed(2));
					   $('#badRez1').html(data.lose.sum_trosak.toFixed(2));					   					   	
					   
					   goodRez2 = $("#goodRez1").html() * 30;
					   goodRez3 = goodRez2 * 6;
					   $('#goodRez2').html(goodRez2.toFixed(2));
					   $('#goodRez3').html(goodRez3.toFixed(2));
					   
					   avgRez2 = $("#avgRez1").html() * 30;
					   avgRez3 = avgRez2 * 6;
					   $('#avgRez2').html(avgRez2.toFixed(2));
					   $('#avgRez3').html(avgRez3.toFixed(2));
					   
					   badRez2 = $("#badRez1").html() * 30;
					   badRez3 = badRez2 * 6;
					   $('#badRez2').html(badRez2.toFixed(2));
					   $('#badRez3').html(badRez3.toFixed(2));
					   
					   $.mobile.changePage( "#rezultat", {
						   transition: "slide",
						   reverse: false,
						   changeHash: true
						 });
					   
					   //var dobro = data.dobro.sum;
					   //var srednje = data.prosecno.sum;
					   //var lose = data.lose.sum;
					   
// 					   var kom600 = dobro / 6000;
// 					   var ostatak600 = dobro % 6000;
					   
// 					   var kom300 = ostatak600 / 3000;
// 					   var ostatak300 = ostatak600 % 3000;
					   
// 					   var kom200 =ostatak300 / 2000;			   					   
				   }
				 });
		
			return false; // avoid to execute the actual submit of the form.
	});
	</script>
</body>
</html>